# 카카오 - 실패율

# PROGRAMMERS LEVEL.1

- 카카오 - 실패율
    - [URL](https://school.programmers.co.kr/learn/courses/30/lessons/42889)

### **문제 이해하기**
![Untitled](https://user-images.githubusercontent.com/72185011/184906358-741625f7-c011-41d6-a1e2-d16ddcd6f0c5.png)


요즘 신규 사용자의 수가 급감한 것이다. 

원인은 신규 사용자와 기존 사용자 사이에 스테이지 차이가 너무 큰 것

오렐리를 위해 실패율을 구하는 코드를 완성하라.

- 실패율은 다음과 같이 정의한다.
    - 스테이지에 도달했으나 **아직 클리어하지 못한 플레이어의 수** 
    / 스테이지에 **도달한 플레이어 수**

전체 스테이지의 개수 N, 

사용자가 현재 멈춰있는 스테이지의 번호가 담긴 배열 stages가 매개변수

실패율이 높은 스테이지부터 내림차순, 스테이지의 번호 배열을 return 

### **[제한사항]**

- 스테이지의 개수 N은 `1` 이상 `500` 이하의 자연수이다.
- stages의 길이는 `1` 이상 `200,000` 이하이다.
- stages에는 `1` 이상 `N + 1` 이하의 자연수가 담겨있다.
    - 각 자연수는 사용자가 현재 도전 중인 스테이지의 번호를 나타낸다.
    - 단, `N + 1` 은 마지막 스테이지(N 번째 스테이지) 까지 클리어 한 사용자를 나타낸다.
- 만약 실패율이 같은 스테이지가 있다면 작은 번호의 스테이지가 먼저 오도록 하면 된다.
- 스테이지에 도달한 유저가 없는 경우 해당 스테이지의 실패율은 `0` 으로 정의한다.

### INPUT OUTPUT
![Untitled 1](https://user-images.githubusercontent.com/72185011/184906419-5adc4388-e66c-42c1-a287-17c21e8f3919.png)

### INPUT OUTPUT EXAMPLE

입출력 예 #1

1번 스테이지에는 총 8명의 사용자가 도전했으며, 이 중 1명의 사용자가 아직 클리어하지 못했다. 따라서 1번 스테이지의 실패율은 다음과 같다.

- 1 번 스테이지 실패율 : 1/8

2번 스테이지에는 총 7명의 사용자가 도전했으며, 이 중 3명의 사용자가 아직 클리어하지 못했다. 따라서 2번 스테이지의 실패율은 다음과 같다.

- 2 번 스테이지 실패율 : 3/7

마찬가지로 나머지 스테이지의 실패율은 다음과 같다.

- 3 번 스테이지 실패율 : 2/4
- 4번 스테이지 실패율 : 1/2
- 5번 스테이지 실패율 : 0/1

각 스테이지의 번호를 실패율의 내림차순으로 정렬하면 다음과 같다.

- [3,4,2,1,5]

### **문제 접근 방법**

순서대로 생각해보자 스테이지의 개수 N은 현재 5다.

배열에는 8개에 인수들, 사람들이 현재 진행중인 스테이지의 단계.

| 단계 |  |  |  | 🎁 |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 5 |  |  |  | 🎁 |  |  |  |  |
| 4 |  |  |  | 🎁 |  | 🎁 |  |  |
| 3 |  |  |  | 🎁 |  | 🎁 | 🎁 | 🎁 |
| 2 | 🎁 |  | 🎁 | 🎁 | 🎁 | 🎁 | 🎁 | 🎁 |
| 1 | 🎁 | 🎁 | 🎁 | 🎁 | 🎁 | 🎁 | 🎁 | 🎁 |

선물 박스의 위치는 현재 진행중인 스테이지 단계를 의미한다.  

- 1단계

받은 배열을 보면 총 8명이 도전, 1단계 진행중인 사람은 1명이고 나머지 7명은 1단계를 패스했다.

이때 실패율은 1/8 

- 2단계

1단계 패스를 패스한 총 7명이서 게임을 시작

4명이 통과했고 3명이 아직 진행중이다. 

2단계 실패율은 3/7

- 3단계

2단계 패스한 4명이서 게임을 시작

2명이 통과했고 2명이 진행중이다.

3단계 실패율은 1/2

- 4단계

3단계를 살아남은 2명이 게임을 시작

1명이 살아남고 1명이 진행중이다.

4단계 실패율은 1/2

- 5단계

4단계를 살아남은 1명이 게임을 시작

1명이 클리어, 즉 0명이 남아있다.

5단계 실패율은 0/1 = 0;

실패율이 같다면 낮은 단계의 스테이지를 

스테이지에 도달한 사용자가 없는 경우는 실패율  0 

 

### **접근 방법을 적용한 코드**

### **해결하지 못한 이유**

능지폭발

### **문제를 해결한 코드**

```java
public static void main(String[] args) {
        int[] stages = {2, 1, 2, 6, 2, 4, 3, 3};

        System.out.println(solution(5, stages));
    }

    public static int[] solution(int N, int[] stages) {
        
        int[] answer = new int[N];

        double[] stage = new double[N + 1];// 스테이지마다 머물러 있는 사용자수를 담을 배열

        // stage배열에 머물러있는 사용자수를 담는다 , 인덱스값이 스테이지번호
        for (int i : stages) {

            if (i == N + 1) {

                continue;

            }

            stage[i]++;

        }

        // 실패율을 계산해 담을 list
        ArrayList<Double> fail = new ArrayList<Double>();

        //스테이지에 도달한 명수
        double num = stages.length;
        //다음 스테이지로 올라갈때 줄어드는 사용자수를 계산하기 위해 사용
        double tmp = 0;

        //실패율을 구한 후 다시 stage배열에 담고, fail 리스트에도 담아준다.
        for (int i = 1; i < stage.length; i++) {

            tmp = stage[i];
            // 도달한 사용자 수가 0 일때, 실패율도 0
            if (num == 0) {

                stage[i] = 0;

            } else {

                stage[i] = stage[i] / num;

                num = num - tmp;

            }

            fail.add(stage[i]);

        }

        //  fail 리스트를 내림차순으로 정렬해준다.
        Collections.sort(fail, Collections.reverseOrder());

        //정렬된 fail리스트 값과 stage값을 비교해서 같으면 stage의 인덱스번호(스테이지번호)를 가져옴으로써
        //실패율이 높은 순으로 answer배열에 넣어준다.
        for (int i = 0; i < fail.size(); i++) {

            for (int j = 1; j < stage.length; j++) {

                if (fail.get(i) == stage[j]) {

                    answer[i] = j;

                    stage[j] = -1;

                    break;

                }

            }

        }

        return answer;
    }
```

### **문제를 해결한 방법**

내림차순 정렬 메소드, 모르면 못품

Collections.sort(fail, Collections.reverseOrder()); 

실수 담아야되서 double 안쓰고 int쓰면 곱창남
